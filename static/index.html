<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perpetual Monad Derby</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

    <!-- ============================================= -->
    <!-- ===== CONFIGURATION MODAL (Initially Hidden) ===== -->
    <!-- ============================================= -->
    <div id="config-overlay" class="hidden">
        <div id="config-modal">
            <h2>Derby Configuration</h2>
            <p>Define up to 8 entities to race against each other.</p>
            
            <form id="config-form">
                <div id="entity-slots-container">
                    <!-- JavaScript will dynamically add entity slots here. -->
                </div>

                <div class="form-actions">
                    <button type="button" id="add-entity-btn">+ Add Another Entity</button>
                    <button type="submit" id="update-race-btn">Update Race</button>
                </div>
            </form>
            <button id="close-modal-btn" title="Close">X</button>
        </div>
    </div>


    <!-- ============================================= -->
    <!-- ===== MAIN DERBY VISUALIZATION ===== -->
    <!-- ============================================= -->
    <div class="derby-container">
        <header id="scoreboard">
            <div class="scoreboard-header">
                <h1>Perpetual Monad Derby</h1>
                <button id="show-config-btn">⚙️ Configure Race</button>
            </div>
            <p>Live On-Chain Activity on Monad Testnet</p>
            <table id="scoreboard-table">
                <thead>
                    <tr>
                        <th>Entity Name</th>
                        <th>Live TPS</th>
                        <th>Laps Completed</th>
                        <th>Latest TX Hash</th>
                    </tr>
                </thead>
                <tbody id="scoreboard-body">
                    <!-- JavaScript will dynamically populate this table -->
                </tbody>
            </table>
        </header>

        <main id="racetrack">
            <!-- JavaScript will dynamically populate this with lanes and racers -->
        </main>
    </div>

    <!-- The defer attribute ensures the script runs after the document is parsed -->
    <script src="/static/script.js" defer></script>
</body>
</html>